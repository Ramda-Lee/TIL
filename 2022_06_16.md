# Spring(인프런) - 빈 생명주기 콜백

## 빈 생명주기
- 스프링 빈 라이프사이클 : 객체생성 -> 의존관계 주입
- 의존관계 주입이 끝난 후 초기화 작업을 호출 but, 개발자는 그 시기를 어떻게 알까  
-> 스프링은 의존관계 주입 완료 시 초기화 시점을 알려주는 다양한 기능을 제공

## 스프링 빈의 이벤트 라이프사이클
- 스프링 컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 -> 사용 -> 소멸전 콜백 -> 스프링 종료
- 초기화 콜백 : 빈의 의존관계 주입이 완료된 후 호출
- 소멸전 콜백 : 빈 소멸 전에 호출

## 빈 생명주기 콜백 방법
- 인터페이스 (InitializingBean, DisposableBean)
- 설정 정보에 초기화 메서드, 종료 메서드 지정
- @PostConstruct, @PreDestroy

## 인터페이스 (InitializingBean, DisposableBean)
- 클래스에 인터페이스 상속을 받아 시점을 알려준다.
- 단점
    - 스프링 전용 인터페이스에 의존한다
    - 메서드 이름을 변경하지 못한다.
    - 외부 라이브러리에 사용 못한다.

## 설정 정보에 초기화 메서드, 종료 메서드 지정
- 설정 정보에 @Bean(initMethod = "메서드명", destroyMethod = "메서드명") 처럼 적용하는 방법
- 메서드 이름을 자유롭게 사용할 수 있다.
- 외부 라이브러리에도 사용 가능

## @PostConstruct, @PreDestroy
- 각각의 연결 소멸 메서드에 애노테이션을 붙이는 방법
- 최신 스프링에서 가장 권장
- 애노테이션만 붙이면 되서 간단하다
- 외부 라이브러리에는 사용할 수 없어서 외부 라이브러리 초기화, 종료가 필요하면 @Bean의 기능을 사용
