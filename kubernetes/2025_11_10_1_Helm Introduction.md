# 쿠버네티스

## Helm 소개 (Helm Introduction)

### 왜 Helm인가?
- 실제 애플리케이션은 다수의 쿠버네티스 오브젝트(Deployment, Service, Secret, PV/PVC, Job 등)로 구성됨.
- 각 오브젝트가 별도 YAML로 나뉘고, `kubectl apply -f ...`를 여러 번 수행해야 함.
- 기본값이 마음에 들지 않으면 여러 YAML 파일을 일일이 수정해야 함(예: PV 20GB → 100GB).
- 시간이 지나 업그레이드가 필요하면 다시 여러 선언을 조심스럽게 편집해야 함.
- 삭제 시에도 관련 오브젝트를 모두 기억하고 하나씩 제거해야 하는 번거로움이 있음.

### Helm이 하는 일
- Helm은 쿠버네티스의 “패키지 매니저”이자 “릴리스 관리자”.
- 애플리케이션을 “패키지(차트)” 단위로 다루어, 수십~수백 개 오브젝트를 하나의 단위로 설치/업그레이드/롤백/삭제.
- 사용자는 개별 오브젝트를 지정하지 않고 “패키지 이름(릴리스)”만으로 작업 지시.

### 핵심 개념
- Chart: 애플리케이션을 구성하는 매니페스트 템플릿 모음.
- values.yaml: 배포 시점 커스터마이징 값을 한 곳에서 선언(예: PV 크기, 사이트 이름, 관리자 비밀번호, DB 설정 등).
- Release: 클러스터에 설치된 차트의 인스턴스. 릴리스마다 변경 이력이 추적되어 롤백 가능.

### 동작 방식(비유)
- 수많은 파일을 일일이 배치하는 대신, “게임 설치 프로그램”처럼 Helm이 필요한 리소스를 알맞게 생성/배치.
- 설치 시 원하는 디렉터리(환경/값)를 고르고 ‘설치’ 버튼을 누르면 설치기가 나머지를 처리하는 것과 유사.

### 우리가 얻는 이점
- 단일 명령으로 설치/업그레이드/삭제 가능 → 운영 단순화.
- 다양한 환경값을 `values.yaml` 한 곳에서 관리 → 커스터마이징 일관성.
- 변경 이력 추적 및 손쉬운 롤백 → 안전한 배포.
- 관련 오브젝트를 패키지 단위로 관리/정리 → 삭제 누락 방지.

### 앞으로 다룰 대표 명령(개요)
- `helm install <release> <chart> -f values.yaml` 설치
- `helm upgrade <release> <chart> -f values.yaml` 업그레이드
- `helm rollback <release> <revision>` 롤백
- `helm uninstall <release>` 제거

### 요약
- Helm은 쿠버네티스 애플리케이션을 “오브젝트 묶음”이 아닌 “앱(패키지)”로 다루게 해주는 도구.
- 차트와 값 파일을 통해 복잡한 리소스를 템플릿화하고, 설치/업그레이드/롤백/삭제를 릴리스 단위로 수행.
- 결과적으로 배포 자동화, 설정 일관성, 변경 이력/롤백, 정리(삭제) 편의성이 크게 향상됨.
