# 객체지향 예제

## 문제

자동차 공장이 있습니다. 자동차 공장은 유일한 객체이고, 이 공장에서 생산되는 자동차는 제작될 때마다 고유의 번호가 부여됩니다.
자동차 번호가 10001부터 시작되어 자동차가 생산될 때마다 10002, 10003 이렇게 번호가 붙도록 자동차 공장 클래스, 자동차 클래스를 구현하세요
다음 CarFactoryTest.java 테스트 코드가 수행 되도록 합니다.

***

### CarFactoryTest.java

```
public class CarFactoryTest {

    public static void main(String[] args) {
        CarFactory factory = CarFactory.getInstance();
        Car mySonata = factory.createCar();
        Car yourSonata = factory.createCar();

        System.out.println(mySonata.getCarNum());     //10001 출력
        System.out.println(yourSonata.getCarNum());   //10002 출력
    }
}

```

테스크 코드가 수행 되도록 하는 문제를 한번 풀어보도록 하겠습니다.


## 1. 몇개의 클래스를 만들까?

CarFactory와 Car의 생성자가 보이므로 두 개의 클래스를 만들면 가능합니다.
공장은 유일한 객체라고 문제에 나와 있으므로 싱글톤 패턴을 적용합니다.

```
public class CarFactory {
    private static CarFactory instance = new CarFactory();

    private CarFactory() {}


    public static CarFactory getInstance() {
        return instance;
    }
}
```

CarFactory 객체에는 싱글톤 패턴을 적용하고, 기본생성자를 기입 합니다.
CarFactoryTest class에 getInstance() 메서드가 있으므로 메서드를 생성합니다.
다음 Car class를 생성합니다.

```

public class Car {

    private static int serialNum = 10000;

    int CarNum;

    public Car() {
        serialNum++;
        CarNum = serialNum;

    }
     //자동으로 getter, setter 생성
    public int getCarNum() {
        return CarNum;
    }

    public void setCarNum(int CarNum) {
        this.CarNum = CarNum;
    }

}
```

문제에서 자동차가 생산될 때마다 고유의 번호가 부여되어 10001번 부터 시작된다고 하였습니다.
serialNum은 여러인스턴스들이 계속 사용할 객체로 static 선언을 해주는 것이 좋다고 배웠습니다.


## 2. createCar() 메서드 생성하기

이런저런 방법을 동원해도 해결이 안되던 차에 같이 공부하고 있던 다른분이 해결을 해주셨습니다.[1]
carFactory class내에 new Car ()를 리턴 받는 createCar() 함수를 작성하는 것이다.

```
public class CarFactory {

        private static CarFactory instance = new CarFactory();

        private CarFactory() {
        }

        public static CarFactory getInstance() {
            return instance;
        }
        public Car createCar() {
            return new Car(){};

        }

}
```

메서드를 추가하여서 CarFactory를 완성하면
결과 값이 10001, 10002가 출력이 되어 나오는 코드를 완성할 수 있습니다.
마지막 추가부분이 완벽히 이해 가지 않아서 추가적인 공부가 필요한 듯 합니다.

[1] 참고하며 공부한 블로그 링크를 첨부합니다.
URL [https://velog.io/@wawakdev/%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4-%EB%8B%A4%EB%A5%B8%ED%81%B4%EB%9E%98%EC%8A%A4%EC%97%90%EC%84%9C-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%EC%83%9D%EC%84%B1%EC%9E%90-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0](https://velog.io/@wawakdev/%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4-%EB%8B%A4%EB%A5%B8%ED%81%B4%EB%9E%98%EC%8A%A4%EC%97%90%EC%84%9C-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%EC%83%9D%EC%84%B1%EC%9E%90-%ED%98%B8%EC%B6%9C%ED%95%98%EA%B8%B0)
