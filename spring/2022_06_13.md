# Spring(인프런) - 싱글톤 컨테이너

## 싱글톤 패턴
- 클래스 인스턴스가 1개만 생성되는 디자인 패턴
- 객체가 하나만 생성되야 해서 private 생성자를 사용한다.
- 싱글톤 패턴을 사용하면 만들어진 객체를 공유해서 효율성이 좋다.

## 싱글톤 패턴의 문제점
- 구현 코드가 많다.
- 클라이언트가 구체 클래스를 의존하여 DIP를 위반한다.(OCP원칙 위반 가능성도 크다)
- private 생성자로 자식클래스 만들기가 어렵다.
- 내부 속성 변경과 초기화 등이 어려워 유연성이 안좋다.

## 싱글톤 컨테이너
- 스프링 컨테이너는 따로 지정하지 않아도 객체 인스턴스를 싱글톤으로 관리한다.
- 싱글톤 객체를 생성하고 관리하는 기능을 싱글톤 레지스트리라고 한다.
- 싱글톤 객체는 항상 무상태로 설계해야 한다.

## @Configuration과 싱글톤
- 스프링 컨테이너는 싱글톤 레지스트리다. 스프링은 클래스의 바이트코드를 조작하는 라이브러리를 사용한다. (@Configuration을 적용한 AppCOnfig)
- AnnotationConfigApplicationContext에 파라미터로 넘긴 값은 스프링 빈으로 등록된다. AppCㅐnfig도 스프링 빈이 된다.
- 스프링 설정 정보는 항상 @Configuration을 사용한다.
