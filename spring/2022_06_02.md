# Spring(인프런) - 객체 지향 설계와 스프링

## Spring 핵심 개념
- 객체지향언어라는 것이 가장 큰 자바언어의 특징이다. 이 특징을 가장 잘 살려내는 것이 스프링 프레임워크이다.

## 다형성
- 객체지향에서 제일 중요한 개념이 다형성이다.
- 역할과 구현으로 세상을 구분하는 개념이 편리하다.  
(역할 = 인터페이스, 구현 = 인터페이스를 구현한 클래스, 구현객체)
- 앞으로 스프링에서 공부할 IoC(제어의 역전), DI(의존관계 주입)은 다형성을 활용하여 역할과 구현을 편하게 다루게 한다.

## 좋은 객체 지향 설계의 5원칙 (SOLID)
- SRP : 단일책임의 원칙(Single Responsibility Principle)
    - 한 클래스는 하나의 책임만 가져야 한다.
    - 중요한 기준은 변경(변경이 있을 때 파급 효과가 적으면 원칙을 잘따름)
- OCP : 개방-폐쇄 원칙(Open/close Principle)
    - 소프트웨어 요소는 확장에 열려 있고 변경에는 닫혀야 한다.
    - 인터페이스를 만들어 새로운 기능을 구현
- LSP : 리스코프 치환 원칙(Liskov Substitution Principle)
    - 하위클래스는 인터페에스 규약을 다 지켜야 한다.
- ISP : 인터페이스 분리 원칙(Interface segregation Principle)
    - 특정 클라이언트를 위한 인터페이스 여러개가 범용 인터페이스 하나보다 좋다.
- DIP : 의존관계 역전 원칙(Dependency Inversion Principle)
    - 추상화에 의존하고, 구체화에 의존하면 안된다.
    - 역할과 구현 중 역할에 의존하게 해야한다.
- 다만 자바의 다형성만으로는 OCP, DIP를 지킬 수 없는 상황이 생긴다.

## 스프링의 역할
- 스프링은 DI(Dependency Injection)과 DI 컨테이너의 제공으로 OCP, DIP를 가능하게 지원한다.
- 쉽게 부품을 교체하듯 개발할수 있다.

## IoC (Inversion of Control) 제어의 역전
- 기존 프로그램들은 클라이언트 객체가 스스로 필요한 객체를 생성, 연결, 실행했다.  
이 과정이 개발자 입장에선 자연스럽고 개발자가 제어를 하는 모습이다. (순제어)
- 중간에 객체들을 생성, 연결, 실행하는 로직을 가진 AppConfig 클래스가 생성되면 프로그램의 제어 흐름은 AppConfig가 가져간다. (역제어)
- 역제어의 과정처럼 프로그램 제어의 흐름을 직접 제어하는 것이 아니라 외부에서 괸리하는 것을 제어의 역전이라 한다. (역제어 == 제어의 역전)

## 프레임워크 vs 라이브러리
- 본인이 작성한 코드를 제어하고, 대신 실행해주면 프레임워크이다.
- 본인이 작성한 코드를 직접 제어하고 실행하면 라이브러리이다.

## DI (Dependency Injection) 의존관계 주입
- 인테페이스를 상속 받는 클래스가 있으면, 그 클레스는 인터페이스에 의존하며, 어떤 객체가 사용될지 클래스는 알 수 없다.
- 의존관계는 정적인 클래스 의존관계와 동적인 객체 의존관계를 따로 생각해야한다.
- 정적인 클래스 의존관계는 import 코드만 봐도 바로 알 수 있다. 하지만 의존관계 만으로 어떤 객체가 클래스에 주입될 지 알 수 없다.
- 동적인 객체 인스턴스 의존 관계는 애플리케이션이 실행되는 시점에 생성된 객체 인스턴스의 참조가 연결된 의존 관계이다.  
애플리케이션이 실행되는 시점에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 의존관계가 연결되는 것을 의존관계 주입이라고 한다. 

## DI 컨테이너
- 객체를 생성하고 관리하면서 의존관계를 연결해주는 것을 DI 컨테이너라고 한다.

## 스프링 컨테이너
- ApplicationContext를 스프링 컨테이너라고 한다.
- 스프링 컨테이너는 DI컨테이너 역할을 하는 클래스에 @Configuration을 붙이고,  
@Bean이 붙은 메서드를 모두 호출하여 반환된 객체를 스프링 컨테이너에 등록한다. 이렇게 등록된 객체를 스프링 빈이라 한다.
- 스프링 빈은 @Bean이 붙은 메서드 명을 스프링 빈의 이름으로 사용한다.
- 스프링빈을 사용하지 않을 시에는 DI컨테이너에서 직접 조회해야했지만,  
스프링 컨테이너에 등록된 스프링 빈은 applicationContext.getBean()메서드를 이용하여 조회한다.
