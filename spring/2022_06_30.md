# Spring(인프런) - Spring MVC-1 스프링 프레임워크
- 스프링 프레임워크까지 만들어진 과정 처럼 단계별로 진행한다.
(출처 인프런 김영한 강사님의 스프링MVC)

## Front Controller 패턴
- 프론트 컨트롤러 서블릿 하나로 클라이언트의 요청을 받아 요청에 맞는 컨트롤러를  
프론트 컨트롤러가 찾아 호출한다.
- 요청 받는 입구를 하나로 하는 개념
- 프론트 컨트롤러를 제외한 나머지 컨트롤러는 서블릿을 사용하지 않아도된다.
- 스프링 MVC의 DispatcherServlet이 FrontController 패턴으로 구현

## 프론트 컨트롤러 도입 과정- v1
- v1 구조
    - HTTP 요청 -> URL 매핑 정보에서 컨트롤러 조회 -> 컨트롤러 호출 -> 컨트롤러에서 JSP forward -> HTML 응답
- 기존 서블릿만 있던 코드에서 프론트 컨트롤러를 추가

## View 분리 과정 - v2
- v2 구조
    - HTTP 요청 -> URL 매핑 정보에서 컨트롤러 조회 -> 컨트롤러 호출 -> View 반환 -> render() 호출 -> JSP forward -> HTML 응답
- 모든 컨트롤러에 뷰가 중복으로 들어가있어 View부분 코드를 리펙토링한다.
- view에 해당하는 class를 생성하여 중복되는 부분을 각 컨트롤러에서 호출 한다.

## Model 추가 - v3
- v3 구조
    - HTTP 요청 ->  매핑정보로 컨트롤러 조회 -> 컨트롤러 호출 -> ModelView 반환 -> viewResolver 호출 -> View 반환 -> render(model) 호출 -> HTML 응답
- 서블릿 종속 제거 :  HttpServletRequest, HttpServletResponse는 컨트롤러 입장에서 꼭 필요하지 않다, request 객체를 Model로 사용하는 대신에 별도의 Model 객체를 만들어서 반환한다.
- 뷰 이름 중복 제거 단계 : 뷰의 논리 이름을 반환하고, 실제 물리 위치의 프론트 컨트롤러에서 처리하도록 단순화한다. (viewResolver : 컨트롤러가 반환한 논리 뷰 이름을 실제 물리 뷰 경로로 변경 후 실제 물리 경로를 반환)

## 개발자의 편의를 늘린 컨트롤러 - v4
- v4 구조
    - HTTP 요청 -> 매필 정보에서 컨트롤러 조회 -> 컨트롤러 호출 -> ViewName 반환 -> viewResolver 호출 -> MyView 반환 -> render(model)호출 -> view반환 하여 HTML 응답
- 이번에는 ModleView를 제거하고 model 객체를 파라미터 전달로 그냥 사용한다.
- 컨트롤러가 뷰의 논리이름을 직접 반환해서 이 값으로 실제 물리 뷰를 찾을 수 있다.

## 유연한 컨트롤러 - v5
- v5 구조
    - HTTP 요청 -> 핸들러 매핑 정보로 헨들러 조회 -> 핸들러를 처리할 수 있는 핸들러 어댑터 조회 -> handle(handler)로 핸들러 어댑터에 전달 -> handler 호출 -> 핸들러(컨트롤러)에서 ModelView 반환 -> viewResolver 호출 -> View 반환 -> render(model)호출 -> View 반환하여 HTML 응답
- 어댑터 패턴 : 지금까지의 프론트 컨트롤러는 한가지 방식의 컨트롤러 인터페이스만 사용할 수 있지만, 어댑터 패턴을 사용해서 프론트 컨트롤러가 다양한 방식의 컨트롤러를 처리하도록 변경 가능
- 핸들러 어댑터 : 중간에 어댑터 역할을 하는 핸들러 어댑터가 추가됨, 어댑터역할을 해줘 다양한 종류의 컨트롤러를 호출
- 핸들러 : 컨트롤러의 이름을 더 넓은 범위인 핸들러로 변경

## Spring MVC
- 지금까지 만들어 보았던 v5의 구조가 스프링 MVC의 구조와 비슷한 구조를 가지고 있다.
